{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pedro\\\\Desktop\\\\Chat real time\\\\react-iniciante\\\\web\\\\src\\\\components\\\\Promotion\\\\Search\\\\Search.js\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport useApi from \"components/utils/useApi\";\nimport { Link } from \"react-router-dom\";\nimport PromotionList from \"../List/List\";\nimport \"./Search.css\";\n\nconst PromotionSearch = () => {\n  const mountRef = useRef(null);\n  const [search, setSearch] = useState(\"\");\n  const [load, loadInfo] = useApi({\n    debounceDelay: 300,\n    url: \"/promotions\",\n    method: \"get\",\n    params: {\n      _embed: \"comments\",\n      _order: \"desc\",\n      _sort: \"id\",\n      title_like: search || undefined\n    }\n  });\n  useEffect(() => {\n    load({\n      debounced: mountRef.current\n    });\n\n    if (!mountRef.current) {\n      mountRef.current = true;\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [search]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"promotion-search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"promotion-search__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, \"Promo Show\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/create\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, \"Nova Promo\\xE7\\xE3o\")), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"search\",\n    className: \"promotion-search__input\",\n    placeholder: \"Buscar\",\n    value: search,\n    onChange: ev => setSearch(ev.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(PromotionList, {\n    promotions: loadInfo.data,\n    loading: loadInfo.loading,\n    error: loadInfo.error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default PromotionSearch;","map":{"version":3,"sources":["C:/Users/pedro/Desktop/Chat real time/react-iniciante/web/src/components/Promotion/Search/Search.js"],"names":["React","useState","useEffect","useRef","useApi","Link","PromotionList","PromotionSearch","mountRef","search","setSearch","load","loadInfo","debounceDelay","url","method","params","_embed","_order","_sort","title_like","undefined","debounced","current","ev","target","value","data","loading","error"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,QAAmD,OAAnD;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,SAASC,IAAT,QAAqB,kBAArB;AAEA,OAAOC,aAAP,MAA0B,cAA1B;AACA,OAAO,cAAP;;AAEA,MAAMC,eAAe,GAAG,MAAM;AAC5B,QAAMC,QAAQ,GAAGL,MAAM,CAAC,IAAD,CAAvB;AACA,QAAM,CAACM,MAAD,EAASC,SAAT,IAAsBT,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACU,IAAD,EAAOC,QAAP,IAAmBR,MAAM,CAAC;AAC9BS,IAAAA,aAAa,EAAE,GADe;AAE9BC,IAAAA,GAAG,EAAE,aAFyB;AAG9BC,IAAAA,MAAM,EAAE,KAHsB;AAI9BC,IAAAA,MAAM,EAAE;AACNC,MAAAA,MAAM,EAAE,UADF;AAENC,MAAAA,MAAM,EAAE,MAFF;AAGNC,MAAAA,KAAK,EAAE,IAHD;AAINC,MAAAA,UAAU,EAAEX,MAAM,IAAIY;AAJhB;AAJsB,GAAD,CAA/B;AAYAnB,EAAAA,SAAS,CAAC,MAAM;AACdS,IAAAA,IAAI,CAAC;AACHW,MAAAA,SAAS,EAAEd,QAAQ,CAACe;AADjB,KAAD,CAAJ;;AAIA,QAAI,CAACf,QAAQ,CAACe,OAAd,EAAuB;AACrBf,MAAAA,QAAQ,CAACe,OAAT,GAAmB,IAAnB;AACD,KAPa,CAQd;;AACD,GATQ,EASN,CAACd,MAAD,CATM,CAAT;AAWA,sBACE;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,SAAS,EAAC,0BAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,SAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAFF,CADF,eAKE;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,SAAS,EAAC,yBAFZ;AAGE,IAAA,WAAW,EAAC,QAHd;AAIE,IAAA,KAAK,EAAEA,MAJT;AAKE,IAAA,QAAQ,EAAGe,EAAD,IAAQd,SAAS,CAACc,EAAE,CAACC,MAAH,CAAUC,KAAX,CAL7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,eAYE,oBAAC,aAAD;AACE,IAAA,UAAU,EAAEd,QAAQ,CAACe,IADvB;AAEE,IAAA,OAAO,EAAEf,QAAQ,CAACgB,OAFpB;AAGE,IAAA,KAAK,EAAEhB,QAAQ,CAACiB,KAHlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZF,CADF;AAoBD,CA9CD;;AAgDA,eAAetB,eAAf","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport useApi from \"components/utils/useApi\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport PromotionList from \"../List/List\";\r\nimport \"./Search.css\";\r\n\r\nconst PromotionSearch = () => {\r\n  const mountRef = useRef(null);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [load, loadInfo] = useApi({\r\n    debounceDelay: 300,\r\n    url: \"/promotions\",\r\n    method: \"get\",\r\n    params: {\r\n      _embed: \"comments\",\r\n      _order: \"desc\",\r\n      _sort: \"id\",\r\n      title_like: search || undefined,\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    load({\r\n      debounced: mountRef.current,\r\n    });\r\n\r\n    if (!mountRef.current) {\r\n      mountRef.current = true;\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [search]);\r\n\r\n  return (\r\n    <div className='promotion-search'>\r\n      <header className='promotion-search__header'>\r\n        <h1>Promo Show</h1>\r\n        <Link to='/create'>Nova Promoção</Link>\r\n      </header>\r\n      <input\r\n        type='search'\r\n        className='promotion-search__input'\r\n        placeholder='Buscar'\r\n        value={search}\r\n        onChange={(ev) => setSearch(ev.target.value)}\r\n      />\r\n      <PromotionList\r\n        promotions={loadInfo.data}\r\n        loading={loadInfo.loading}\r\n        error={loadInfo.error}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PromotionSearch;\r\n"]},"metadata":{},"sourceType":"module"}